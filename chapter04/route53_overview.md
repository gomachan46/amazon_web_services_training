# Route 53の概要

## Route 53とは

WebベースのDNSサービス。

SLA100%を掲げている

世界中に展開されているエッジロケーションで提供されていて、もっとも近いロケーションから応答を返すためとても高速かつ高可用でスケーラブル

APIで操作可能なのでコストも安く済む

## Route 53における重要概念

### Hosted Zone

DNSレコードの集合

### Record Set

DNSレコード

* Routing Policy
* Set ID
* ヘルスチェックの設定
* DNSレコード

を合わせた単位

### Routing Policy

Record Setに対してどのようにルーティングを行うかを決定するところ

### Set ID

Routing Policyを用いて複数のRecord Setで同じ名前を設定する場合にそれぞれをユニークにするために設定するID

### ヘルスチェック

転送先ホストの状態をチェックするための設定

HTTP/HTTPS/TCPで可能。

## 主な機能

IPアドレスとドメイン名の対応づけなどを管理する役割。(権威DNSサーバ機能)

キャッシュDNSの機能は提供されない。

* 権威DNSサーバ
* DNSレジストラとしての機能
* ほかのDNSレジストラからドメインを移管することも可能

### レイテンシベースルーティング

同じ名前が設定された複数のリージョンに配置されたEC2インスタンスのグローバルIPアドレスやELBに対して、よりレイテンシの小さくなるリージョンを選択してルーティングしてくれる機能。

レイテンシを主に考えたルーティングをしてくれるよと。

意識する事なくより高速にレスポンスを得られるサーバにアクセス出来るようになる。

### 重み付けラウンドロビン

Record SetのRouting Policyを `Weighted` に設定することで実現可能。

転送先ごとに重み付けを行い、指定された重みの時間割合で転送比率が決定される。

0に設定するとルーティングは行われなくなる。

Webサイトの移転など、徐々にアクセスを移していきたい場合に有効。

### DNSフェイルオーバー

Record SetのRouting Policyを `Fileover` に設定することで実現可能。

Record Set設定時に同じ名前でPrimary、Secondaryの2つのSetを作成すると、通常はPrimaryに指定された転送先にルーティングされる。

Primary側に問題が発生するとSecondaryに指定された転送先にルーティングされるようになる。

問題発生時にSorryコンテンツを配信するだけのサーバーにルーティングを簡単に切り替えたり出来る。
